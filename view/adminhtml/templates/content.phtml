<?php
use Adeelq\CoreLogFileReader\Block\Adminhtml\Logs;
/** @var Logs $block */
?>
<link rel="stylesheet" type="text/css" href="<?= $block->getViewFileUrl('Adeelq_CoreLogFileReader::logviewer.css') ?>" />
<div style="display:flex;justify-content:flex-end;align-items:center;margin-bottom:12px;">
    <form method="post" action="<?= $block->getLogHelper()->getBackendUrl()->getUrl('adeelq_logs/logs/clear') ?>" style="margin:0;">
        <input name="form_key" type="hidden" value="<?= $block->getFormKey() ?>" />
        <input name="file" type="hidden" value="<?= $block->escaper->escapeHtml($block->getRequest()->getParam('file')) ?>" />
        <button type="submit" style="background:#e74c3c;color:#fff;border:none;padding:7px 18px;border-radius:4px;cursor:pointer;font-weight:bold;" onclick="return confirm('確定要清空這個 log 嗎？')">
            <?= __('Clear Log') ?>
        </button>
    </form>
</div>
<div class="adeelq-logs-container">
    <pre class="adeelq-logs-pre"><?= $block->escaper->escapeHtml($block->getLogHelper()->getLogFileContent()); ?></pre>
</div>
